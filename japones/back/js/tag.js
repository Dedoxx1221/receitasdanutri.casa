!function(t,e){if("function"==typeof define&&define.amd)define([],e);else if("undefined"!=typeof exports)e();else{e(),t.index={}}}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this,(function(){var t,e;function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const r=Array.from(new Set(Array.from(document.querySelectorAll("script[src]")).map((t=>{try{const e=new URL(t.src);if(e.origin!==window.location.origin)return e.host}catch(t){return null}})))).filter((t=>!!t));var s,a,l,c,d,u;s=window,a=document,l="script",s.fbq||(c=s.fbq=function(){c.callMethod?c.callMethod.apply(c,arguments):c.queue.push(arguments)},s._fbq||(s._fbq=c),c.push=c,c.loaded=!0,c.version="2.0",c.queue=[],(d=a.createElement(l)).async=!0,d.src="https://connect.facebook.net/en_US/fbevents.js",(u=a.getElementsByTagName(l)[0]).parentNode.insertBefore(d,u));const h=Object.freeze(JSON.parse('{"version":2,"event_url":"https://tracking.metrito.com/mtrtprxy/events","domain":"naturalnews.online","fb_pixels":["9279680138744798"],"lead_source":{"type":"input_selector"},"query_string":{},"anchors":{},"utms":{},"events":[{"_id":"690de76219c4e80d759caa30","config":{"pages":{"type":"all_pages","value":[]},"trigger":{"type":"page_view","timeThreshold":0,"whatsappKeywords":[],"trackingLinks":[]},"facebook":{"name":"PageView","data":{},"trackCustom":false,"_id":"690de76253b8d960b32e36f7"},"_id":"690de76253b8d960b32e36f6"},"domain":"naturalnews.online","__v":0,"createdAt":"2025-11-07T12:34:42.161Z","name":"Visualização de Página","updatedAt":"2025-11-07T12:34:42.161Z"}],"custom_webhook_urls":[],"dynamic_pixels":[],"no_auto_events":true,"meta":{}}')),m="warn",f="error",v="debug",p="metrito_",g="mlid",w="lead_id",y="lead_sent",_="utm",b="utm_mlid",k="utm_source",O="src",T="PageView";class S{constructor(){this.siteConfig=h,this.pixelsInitialized=!1,this.pixelInitPromise=null,this.eventQueue=[],this.t=[]}async setup(){var t,e;const{domain:n}=this.siteConfig;if(this.i("log","Ⓜ️ Setup started on",n),n.replace(/^www\./,"")!==location.hostname.replace(/^www\./,"")&&(null===(t=h.meta)||void 0===t||!t.testing))return this.i(f,"Invalid config domain: ".concat(n));this.i(v,"Site config:",this.siteConfig),this.o(),this.l(),await this.u(),this.h();const{lead_source:i={}}=this.siteConfig;i.type&&"input_selector"!==i.type||(this.m("name",i.name||['[name*="name"]','[name*="nome"]']),this.m("email",i.email||['[name*="email"]','[type="email"]']),this.m("phone",i.phone||['[name*="phone"]','[name*="whats"]','[name*="fone"]','[name*="tel"]','[type="tel"]'])),(this.siteConfig.events||[]).forEach((t=>{var e;setTimeout((()=>this.v(t)),(null==t||null===(e=t.config)||void 0===e?void 0:e.fireDelay)||0)})),this.p((t=>{(this.siteConfig.events||[]).forEach((t=>this.v(t))),t.forEach((t=>{t.addedNodes.forEach((t=>{t instanceof Element&&this._(t)}))}))})),document.querySelectorAll("a[href], form").forEach((t=>{this._(t)})),null===(e=window.navigation)||void 0===e||e.addEventListener("navigate",(t=>{this.i(v,"Detected navigate event to:",t.destination.url);const e=this.addLead(t.destination.url);e!==t.destination.url&&(t.preventDefault(),window.location.href=e)})),this.siteConfig.no_auto_events||setTimeout((()=>{this.k(y)||this.sendEvent({config:{name:T,facebook:{name:T}}})}))}o(){let t;const e=(new Date).toISOString().split("T")[0].replaceAll("-","");try{const e=this.O(location.href).searchParams,n=this.O(document.referrer).searchParams,i=e.get(g)||n.get(g);if(i)if(/^lead_\d+_\w+$/.test(i))t=i;else{const e=this.T(i,!0);e&&(t="lead_"+e)}const o=["phone","fone","tel","telefone"];for(const t of o){const n=e.get(t);if(n&&n.trim()){this.S("lead_phone",n.trim()),this.i(v,"Phone number set from ".concat(t," parameter:"),n.trim());break}}const r=e.get("email");r&&r.trim()&&(this.S("lead_email",r.trim()),this.i(v,"Email set from email parameter:",r.trim()))}catch(t){this.i(m,"Error getting parameters from URL: ".concat(t.message))}t||(t=this.k(w)||this.j("lead_"+e)),t!==this.k(w)&&(this.A(),this.S(w,t)),this.S(y,void 0)}_(t){switch(t.tagName){case"A":{this.i(v,"Handle anchor:",t.outerHTML);const e=this.addLead(t.href);t.href!==e&&(t.href=e);break}case"FORM":{this.i(v,"Handle form ID: ".concat(t.id," name: ").concat(t.name));const{leadKey:e=g}=this.siteConfig.forms||{};t.querySelectorAll('input[type="hidden"]').forEach((t=>{[t.id,t.name].includes(e)&&(t.value=this.k(w))})),this.U(t);break}}}addLead(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.origin;try{const n=this.O(t,e,!0),{type:o,values:r=[],sameSite:s=!1,params:a=[{key:g,overwrite:!0},{key:b,overwrite:!0},{key:O,overwrite:!1},{key:k,overwrite:!1}]}=this.siteConfig.anchors||{};if(this.D(n),"off"===o||!s&&n.origin===location.origin||"regex"===o&&!new RegExp(r[0]).test(n.href)||"urls"===o&&r.some((t=>n.href.startsWith(t))))return n.href;const l=this.k(w);if(a.forEach((function(){let{key:t,overwrite:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(!n.searchParams.get(t)||e&&t!==k)&&n.searchParams.set(t,l)})),["hotmart"].some((t=>this.P(t,n)))){const t=JSON.stringify(i({[g]:l},this.k(_)||{}));n.searchParams.set("xcod",t)}return n.href}catch(e){return this.i(m,"Adding lead to URL ".concat(t,": ").concat(e.message)),t}}addFullData(t){const e=(t,n,i)=>{if(Array.isArray(i)||"object"!=typeof i)i&&t.set(n,i);else if("object"==typeof i)for(const o in i)e(t,n?"".concat(n,"[").concat(encodeURIComponent(o),"]"):encodeURIComponent(o),i[o])};try{const n=new URL(String(t)),i=new URLSearchParams;return e(i,"",this.I()),n.search=i.toString(),n.href}catch(e){return this.i(m,"Building full URL from ".concat(t,": ").concat(e.message)),t}}sendEvent(){let{config:t={},data:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(new Date).getTime(),o=this.j(n),s=Math.floor(n/1e3);t.name||(t.name="UnknownEvent"),this.i(v,"Event:",o,"cfg:",t,"data:",e),this.k(y)||t.name!==T||(e=i(i({},e||{}),{},{src:r}));const{facebook:a}=t||{};if(a&&window.fbq){const e=a.data||{},n=a.name||t.name,i=a.trackCustom?"trackCustom":"track";fbq(i,n,e,{eventID:o})}const{version:l,domain:c,event_url:d}=this.siteConfig;if(d&&c){var u,h;const n=i({version:l,domain:c,eventId:o,eventTime:s,config:t,data:e,meta:{url:location.href,title:document.title,language:navigator.language,referrer:document.referrer,category:this.R(),favicon:null===(u=document.querySelector('link[rel~="icon"][href]'))||void 0===u?void 0:u.href,description:null===(h=document.querySelector('meta[name$="description"][content]'))||void 0===h?void 0:h.content}},this.I());this.L(d,n),this.S(y,(new Date).toISOString())}}track(t){let{lead:e={},event:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.i(v,"track() called:",{eventName:t,lead:e,event:n}),t&&"string"==typeof t)return this.pixelsInitialized?void this.F(t,e,n):(this.i(v,"Queuing event: ".concat(t)),void this.eventQueue.push({eventName:t,lead:e,event:n}))}F(t,e,n){let o=null;if(e&&"object"==typeof e&&!Array.isArray(e)){const t={};Object.entries(e).forEach((e=>{let[n,i]=e;null!=i&&""!==i&&(["name","email","phone"].includes(n),this.S("lead_".concat(n),i),t[n]=i)})),Object.keys(t).length>0&&(o=t)}else null!=e&&this.i(m,"_trackInternal(): ignoring invalid data:",e);const r=i({name:t},n),s=n.data||{},a={};Object.entries(s).forEach((t=>{let[e,n]=t;if("lead"===e){if(n&&"object"==typeof n&&!Array.isArray(n)){const t={};Object.entries(n).forEach((e=>{let[n,i]=e;null!=i&&""!==i&&(t[n]=i)})),Object.keys(t).length>0&&(a[e]=t)}}else a[e]=n}));const l=i(i({},a),o?{lead:o}:{});this.sendEvent({config:r,data:l})}I(){return{lead:["id","name","email","phone","sent"].reduce(((t,e)=>i(i({},t),{},{[e]:this.k("lead_".concat(e))})),{}),utm:this.k(_)||{},cookies:this.N(["_fbp","_fbc","_ga","_gcl_aw","_gcl_au"])}}D(t){var e;const n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(null===(e=this.siteConfig)||void 0===e||null===(e=e.utms)||void 0===e?void 0:e.overwrite);return Object.entries(this.k(_)||{}).forEach((e=>{var i,o;let[r,s]=e;null!=t&&null!==(i=t.searchParams)&&void 0!==i&&i.has(r)&&!n||s&&(null==t||null===(o=t.searchParams)||void 0===o||o.set(r,s))})),t}U(t){t instanceof Element&&Object.entries(this.k(_)||{}).forEach((e=>{let[n,i]=e,o=t.querySelector('input[name="'.concat(n,'"]'));o||(o=document.createElement("input"),o.name=n,o.type="hidden",t.appendChild(o)),i&&(o.value=i)}))}l(){const{query_string:{utm_keys:t,lead_key:e}={},utms:n={}}=this.siteConfig,i=Array.isArray(t)?t:[k,"utm_medium","utm_campaign","utm_content","utm_term","utm_id","fbclid","gclid","gbraid","wbraid",O,"sck"],o=this.O(location.href),r=this.O(document.referrer),s=this.k(_)||{},a=i.reduce(((t,e)=>(o.searchParams.has(e)?t[e]=o.searchParams.get(e):r.searchParams.has(e)?t[e]=r.searchParams.get(e):s[e]&&!n.clearOnNewPage&&(t[e]=s[e]),t)),{});if(this.S(_,a),n.persistInUrl){let t=!1;Object.entries(a).forEach((e=>{let[i,r]=e;o.searchParams.has(i)&&!n.overwrite||(o.searchParams.set(i,r),t=!0)})),t&&history.replaceState(null,document.title,o.toString())}!1!==e&&this.q(e||g,this.k(w))}async u(){var t;if(!window.fbq)return this.i(v,"Facebook Pixel (fbq) not available, skipping..."),this.pixelsInitialized=!0,void this.C();const e=this.siteConfig.dynamic_pixels;let n=null;if(e&&e.endpoint&&e.query_param){this.i(v,"Dynamic pixels config found - will ONLY use dynamic pixels:",e);const t=this.M(e.query_param);if(t){this.i(v,"Influencer code found in ".concat(e.query_param,":"),t);try{const i=new URL(e.endpoint);i.searchParams.set("code",t),this.i(v,"Making request to dynamic pixels endpoint:",i.toString());const o=await fetch(i.toString(),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},signal:AbortSignal.timeout(1e4)});if(!o.ok)throw new Error("HTTP ".concat(o.status,": ").concat(o.statusText));const r=await o.json();this.i(v,"Dynamic pixels response:",r),Array.isArray(r)&&r.every((t=>"string"==typeof t))?(n=r,this.i(v,"Successfully loaded ".concat(n.length," pixels from dynamic endpoint for influencer:"),t)):(this.i(v,"Invalid response format from dynamic endpoint: expected array of strings, got:",r),n=[])}catch(e){this.i(m,"Failed to load pixels from dynamic endpoint for influencer ".concat(t,":"),e.message),this.i(v,"Dynamic pixels config present - NOT falling back to fb_pixels, using empty array"),n=[]}}else this.i(v,"Dynamic pixels config present but no influencer code found in query parameter '".concat(e.query_param,"' - using empty array")),n=[]}else this.i(v,"No dynamic pixels config found, using site config fb_pixels"),n=this.siteConfig.fb_pixels;if(!Array.isArray(n)||0===n.length)return this.i(v,"No valid pixels found to initialize"),this.pixelsInitialized=!0,void this.C();this.i(v,"Final pixels to initialize:",n);const i=await this.J(),o=(this.k("lead_name")||"").split(" "),r={fn:o.shift()||null,ln:o.pop()||null,em:this.k("lead_email"),ph:this.k("lead_phone"),external_id:this.k(w),client_user_agent:(null===(t=window.navigator)||void 0===t?void 0:t.userAgent)||null,client_ip_address:i.ip_address||null,country:i.country||null,st:i.region||null,ct:i.city||null};n.forEach(((t,e)=>{window.fbq&&(fbq("init",t,r),this.i(v,"Pixel ".concat(e+1,"/").concat(n.length," initialized: ").concat(t)))})),this.i(v,"Facebook Pixels setup completed. Total pixels initialized:",n.length),this.pixelsInitialized=!0,this.C()}C(){if(0!==this.eventQueue.length){for(this.i(v,"Processing ".concat(this.eventQueue.length," queued events"));this.eventQueue.length>0;){const t=this.eventQueue.shift();this.i(v,"Processing queued event: ".concat(t.eventName)),this.F(t.eventName,t.lead,t.event)}this.i(v,"Event queue processing completed")}}m(t,e){const n=e.map((t=>"input".concat(t))).join(", ");document.querySelectorAll(n).forEach((e=>{e.addEventListener("blur",(e=>{const n=e.target.value||void 0;this.S("lead_".concat(t),n)}))}))}$(t,e){const{_id:n,name:o,config:r}=t||{},{meta:s,data:a}=e||{};this.sendEvent({config:i({_id:n,name:o},r||{}),data:i(i({},s||{}),a||{})}),null!=r&&r.oncePerLead?this.S(n,Date.now()):null!=r&&r.fireAll&&this.v(t)}v(t){const{_id:e,config:n,data:i}=t||{};if(!e||this.t.includes(e)||(null==n?void 0:n.oncePerLead)&&this.k(e))return;const[o]=this.H(n,(e=>this.$(t,e)),i);o>0&&this.t.push(e)}H(t,e){var n,i,o;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=[0,()=>{}],a=location.pathname.replace(/\/+$/,"");switch(null==t||null===(n=t.pages)||void 0===n?void 0:n.type){case"all_pages":break;case"specific_pages":if(null==t||null===(i=t.pages)||void 0===i||null===(i=i.value)||void 0===i||!i.includes(a))return s;break;case"regex":if(!new RegExp((null==t||null===(o=t.pages)||void 0===o||null===(o=o.value)||void 0===o?void 0:o[0])||"^$").test(a))return s;break;default:return s}const l=(null==t?void 0:t.trigger)||{};switch(l.type){case"page_view":return this.G(0,e,r);case"page_view_duration":{const t=l.timeThreshold||0;return this.G(t,e,r)}case"scroll_depth":{const t=l.scrollPercentage||0;return this.V(t,e,r)}case"form_submit":{const t=l.elementSelector;return this.B(t,e,r)}case"element_view":{const t=l.elementSelector,n=l.elementObserverOptions||{};return this.K(t,n,e,r)}case"element_click":{const t=l.elementSelector;return this.W(t,"click",e,r)}case"element_hover":{const t=l.elementSelector;return this.W(t,"mouseover",e,r)}case"video_view_duration":{const t=l.elementSelector,n=l.playbackSeconds||1;return this.Y(t,n,e,r)}default:return s}}G(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(new Date).getTime(),o=setTimeout((()=>{const o=(new Date).getTime();e({meta:n,data:{delay:t,realDelay:o-i}})}),t);return[1,()=>clearTimeout(o)]}K(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=new IntersectionObserver(((o,r)=>{o.forEach((o=>{if(o.isIntersecting){r.unobserve(o.target);n({meta:i,data:{selector:t,options:e},observerEntry:o})}}))}),e),r=document.querySelectorAll(t);return r.forEach((t=>o.observe(t))),[r.length,()=>r.forEach((t=>o.unobserve(t)))]}V(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.X((()=>{const o=window.scrollY/(document.body.scrollHeight-window.innerHeight)*100;if(o>=t){window.removeEventListener("scroll",i);e({meta:n,data:{percentage:t,scrollPercentage:o}})}}),333);return window.addEventListener("scroll",i),[1,()=>window.removeEventListener("scroll",i)]}W(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=this.X((r=>{r.currentTarget.removeEventListener(e,o);n({meta:i,data:{selector:t,eventName:e},event:r})}),333,!0),r=document.querySelectorAll(t);return r.forEach((t=>t.addEventListener(e,o))),[r.length,()=>r.forEach((t=>t.removeEventListener(e,o)))]}B(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.W(t,"submit",(i=>{let{event:o}=i;if("FORM"!==o.target.tagName)return;const r=new FormData(o.target),s=Array.from(r.keys()).reduce(((t,e)=>{const n=r.getAll(e);return void 0===t[e]&&(t[e]=n.length>1?n:n[0]),t}),{});e({meta:n,data:{selector:t,formData:s},event:o})}),n)}Y(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o="timeupdate",r=t=>{const{tagName:s,muted:a,currentTime:l}=t.target||{};"VIDEO"===s&&!a&&l>=e&&(t.currentTarget.removeEventListener(o,r),n({meta:i,data:{playbackSeconds:e,currentTime:l}}))},s=document.querySelectorAll(t);return s.forEach((t=>t.addEventListener(o,r))),[s.length,()=>s.forEach((t=>t.removeEventListener(o,r)))]}h(){if(["xquiz","inlead"].some(this.Z))this.q(O,this.k(w));else if(["shopify"].some(this.Z)&&(this.q(O,this.k(w)),document.querySelectorAll('form[action="/cart/add"], form[action*="/cart"], a[href*="/cart"], a[href="/checkout"]').forEach((t=>{if("A"===t.tagName)try{const e=this.O(t.href,void 0,!0);this.D(e,!0),t.href!==e.href&&(t.href=e.href)}catch(t){this.i(m,"Modifying Shopify anchor: ".concat(t.message))}else"FORM"===t.tagName&&this.U(t)})),window.fetch)){const t=window.fetch;window.fetch=function(e,n){if("string"==typeof e&&["/cart/add","/cart/update","/cart/change"].some((t=>e.includes(t)))){var i;const o=null===(i=window.metrito)||void 0===i?void 0:i.addLead(e,window.location.origin);if(o&&o!==e)return t(o,n)}return t(e,n)}}}X(t,e,n){var i=this;let o,r,s,a,l;const c=()=>{const i=Date.now()-r;e>i?o=setTimeout(c,e-i):(o=null,n||(a=t.apply(l,s)),o||(s=l=null))},d=function(){l=i;for(var d=arguments.length,u=new Array(d),h=0;h<d;h++)u[h]=arguments[h];return s=u,r=Date.now(),o||(o=setTimeout(c,e),n&&(a=t.apply(l,s))),a};return d.cancel=()=>{clearTimeout(o),o=s=l=null},d}j(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36,n="";for(;!n||n.length>16;)n=Math.random().toString(e).slice(2);return t?"".concat(t,"_").concat(n):n}p(t){const e=new MutationObserver(((e,n)=>{e.some((t=>t.addedNodes.length>0))&&t(e,n)}));return e.observe(document.body,{childList:!0,subtree:!0}),()=>e.disconnect()}L(t,e){var n;!((null===(n=window.navigator)||void 0===n?void 0:n.sendBeacon)&&navigator.sendBeacon(t,JSON.stringify(e)))&&window.fetch&&fetch(t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"text/plain"},keepalive:!0,mode:"no-cors",credentials:"omit"}).catch((e=>{this.i(f,"Error sending data to ".concat(t,": ").concat(e.message))}))}q(t,e){const n=this.O(location.href);n.searchParams.get(t)!==e&&(n.searchParams.set(t,e),this.i(v,"URL replaced:",location.href,"=>",n.href),history.replaceState(history.state,"",n))}S(t,e){const n=p+t;void 0===e?localStorage.removeItem(n):localStorage.setItem(n,JSON.stringify(e)),this.i(v,"Store",t,"=>",e)}k(t){const e=p+t;try{return JSON.parse(localStorage.getItem(e))}catch(e){return this.i(m,"Failed reading item ".concat(t,": ").concat(e.message)),null}}tt(){return Object.keys(localStorage).map((t=>t.split(p)[1])).filter((t=>!!t))}A(){const t=this.tt();t.forEach((t=>this.S(t,void 0))),this.i(v,"Store cleared! keys:",t)}N(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(document.cookie||"").split(";").reduce(((n,o)=>{const[r,s]=o.trim().split("=");return Array.isArray(t)&&!t.includes(r)?n:i(i({},n),{},{[r]:e?s:[...n[r]||[],s]})}),{})}O(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const n=/utm_\w+=[^#]*#[^|]*\|/g;return t=String(t).replace(n,(t=>t.replaceAll("#","%23"))),new URL(t,e)}catch(t){if(n)throw t;return new URL("about:blank")}}M(t){const e=location.href;this.i(v,"Extracting parameter",t,"from URL:",e);const n=new RegExp("[?&#]".concat(t,"=([^&#]*)")),i=e.match(n);if(i&&i[1]){const t=decodeURIComponent(i[1]);return this.i(v,"Found parameter:",t),t}return this.i(v,"Parameter not found"),null}R(){var t,e,n;return(null===(t=document.querySelector('meta[name="category"]'))||void 0===t?void 0:t.content)||(null===(e=document.querySelector('meta[property="article:section"]'))||void 0===e?void 0:e.content)||(null===(n=document.querySelector('meta[name="keywords"]'))||void 0===n||null===(n=n.content)||void 0===n||null===(n=n.split(","))||void 0===n?void 0:n[0])}i(t){const e="Metrito ".concat(t,":");for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t]?console[t](e,...i):console.log(e,...i)}Z(t){switch(t){case"shopify":return!!(window.Shopify||document.getElementById("shopify-features")||document.querySelector('meta[name="shopify-checkout-api-token"]'));case"xquiz":return!!(window.location.hostname.includes("xpages")||window.location.hostname.includes("xquiz")||Array.from(document.querySelectorAll("link")).some((t=>t.href.includes("xquiz")))||Array.from(document.querySelectorAll("img")).some((t=>t.src.includes("xquiz"))));case"inlead":return!!(window.location.hostname.includes("inlead")||document.querySelector('a[href="https://inlead.digital/"]')||Array.from(document.querySelectorAll("meta")).some((t=>{var e;return null===(e=t.content)||void 0===e?void 0:e.includes("inlead")}))||Array.from(document.querySelectorAll("img")).some((t=>{var e;return null===(e=t.src)||void 0===e?void 0:e.includes("inlead")})))}return!1}P(t,e){return"hotmart"===t&&/^https?:\/\/pay\.hotmart\.com\//.test(e)}async J(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;try{const e=await fetch("https://ip-check-perf.radar.cloudflare.com",{signal:AbortSignal.timeout(t),headers:{Accept:"application/json"}});if(e.ok)return await e.json()}catch(t){this.i(v,"CloudFlare geolocation:",t)}return{}}T(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(t=String(t||"").replace(/\D/g,"")).match(/^[1-9]\d{4,14}$/))return"";const n=/^55([1-9][1-9])(9?)(\d{8})$/;if(e&&n.test("55".concat(t))&&(t="55".concat(t)),t.startsWith("55")){const[e,i,o,r]=t.match(n)||[];if(!e)return"";!o&&r[0]>5&&(t="55".concat(i,"9").concat(r))}return t||""}}null===(t=window)||void 0===t||!t.metrito||null!==(e=h.meta)&&void 0!==e&&e.testing?(window.metrito=new S,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>window.metrito.setup())):window.metrito.setup()):console.warn("Metrito warn: ⚠️ Tag already running")}));